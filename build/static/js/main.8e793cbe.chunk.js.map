{"version":3,"sources":["util/uploader/IBFRecord.js","util/uploader/IBFRecordReader.js","actions/sessionActions.js","util/sessionApiUtil.js","reducers/sessionReducer.js","reducers/sessionErrorReducer.js","actions/userInfoActions.js","util/userInfoApiUtil.js","reducers/userInfoReducer.js","util/productListUtil.js","actions/productListActions.js","reducers/productListReducer.js","util/productDetailUtil.js","actions/productDetailActions.js","reducers/productDetailReducer.js","actions/uploaderActions.js","util/uploaderApiUtil.js","reducers/uploaderReducer.js","reducers/rootReducer.js","store/store.js","util/routeUtil.jsx","components/uiElements/Drawer.js","components/uiElements/LogoutIcon.js","components/sidebar/sidebar.jsx","components/sidebar/sidebarContainer.jsx","components/uiElements/Button.js","components/uiElements/CircularProgress.js","components/session/sessionForm.jsx","components/session/sessionContainer.jsx","components/uploader/uploader.jsx","components/uploader/uploaderContainer.jsx","components/uiElements/Paper.js","components/uiElements/Avatar.js","components/userInfo/userInfo.jsx","components/userInfo/userInfoContainer.jsx","components/uiElements/HoverEffectCard.js","components/uiElements/Card.js","components/productList/productList.jsx","components/productList/productListContainer.jsx","components/uiElements/AndroidIcon.js","components/uiElements/AppleIcon.js","components/uiElements/BackIcon.js","components/uiElements/LoadingButton.js","components/uiElements/Modal.js","components/uiElements/CheckIcon.js","components/uiElements/ErrorIcon.js","components/uploadedModal/uploadedModal.jsx","components/productDetail/productDetail.jsx","components/productDetail/productDetailContainer.jsx","components/dashboard/dashboard.jsx","components/dashboard/dashboardContainer.jsx","components/App.js","index.js","components/root.jsx","serviceWorker.js","config.js","util/uploader/LogRecord.js","util/uploader/IBFReader.js","images/bigD_icon.png","images/diabnext_logo.png","util/uploader/LogRecordParser.js"],"names":["IBFRecord","buffer","this","IBFByteReader","Version","major","minor","patch","offset","length","n","value","readInt8","readUInt16LE","readUInt16BE","readInt16LE","readInt16BE","readUInt32LE","readUInt32BE","readInt32LE","readInt32BE","remaining","day","nextInt8","month","year","nextUInt16LE","seconds","minutes","hours","Date","fixedLength","idx","strBuffer","slice","toString","readIBFRecord","remainingBytes","recordSize","data","checksum","Int32Array","forEach","expectedChecksum","loggedData","Error","join","requestLoginCode","email","dispatch","updateSessionIsPending","axios","method","url","appConfig","apiUrl","forceUserExist","APIUtil","then","response","receiveUser","user_id","id","catch","error","receiveSessionError","loginWithCode","payload","history","code","app","receiveToken","push","type","errorType","isPending","_nullUser","Object","freeze","userId","token","loading","pastToken","localStorage","sessionReducer","initState","action","newState","cloneDeep","_nullError","errorTranslate","errorDictionary","WRONG_MAIL","EMAIL_ALREADY_USED_FOR_PRO","USER_NOT_FOUND","WRONG_CODE","sessionErrorReducer","requestUserInfo","headers","Authorization","receiveUserInfo","user","receiveWrongToken","_nullUserInfo","firstname","lastname","maiden_name","url_picture","diabete_type","diabete_type_color","address1","address2","zip","city","country","nirpp","userInfoReducer","productList","name","picture_url","disabled","brand","requestProductList","receiveProductList","_nullProductList","productListReducer","productDetails","96","product_picture_url","brand_picture_url","ios","note","steps","android","requestProductDetail","productDetail","receiveProductDetail","_nullProductDetail","productDetailReducer","uploadRecords","records","productId","lastRecordTimestamp","updateUploadStatus","recordsToUpload","filter","record","recorded_at","promiseArray","map","el","all","requestLastRecord","status","receiveLastRecord","console","log","_defaultStatus","uploaderReducer","rootReducer","combineReducers","session","sessionError","userInfo","uploader","middleware","thunk","configureStore","preloadedState","createStore","applyMiddleware","mapStateToProps","state","loggedIn","Boolean","AuthRoute","withRouter","connect","Component","component","path","render","props","to","ProtectedRoute","withStyles","root","width","height","border","paper","background","Drawer","fontSize","color","margin","ExitToApp","Sidebar","sidebarOpen","handleDrawerOpen","bind","handleDrawerClose","setState","isLoggedIn","variant","anchor","open","src","bigD","alt","List","ListItem","button","key","onClick","logout","LogoutIcon","borderRadius","padding","fontWeight","marginBottom","backgroundColor","Button","CircularProgress","SessionForm","field","e","currentTarget","TextField","label","defaultValue","errors","onChange","clearSessionError","helperText","update","preventDefault","logo","emailInput","codeInput","submitButton","Uploader","event","file","target","files","IBFReader","accept","onChangeHandler","Paper","Avatar","UserInfo","elevation","Grid","container","justify","alignItems","spacing","item","xs","sm","md","href","display","flexDirection","cursor","classes","children","className","other","Card","clsx","ProductList","handleSelectProduct","products","p","lg","xl","Divider","renderProducts","AndroidIcon","AppleIcon","ArrowBackIcon","SpinnerAdornment","spinner","marginLeft","size","rest","modal","justifyContent","position","Modal","CheckIcon","HighlightOffIcon","UploadedModal","handleCloseModal","ErrorIcon","showModal","onClose","renderSuccessModal","renderFailedModal","ProductDetail","handleBackToList","renderInstruction","handleUpload","detail","err","renderSteps","uploadStatus","style","htmlFor","step","splice","BackIcon","Dashboard","match","params","App","store","exact","sessionContainer","uploaderContainer","dashboardContainer","theme","createMuiTheme","palette","primary","main","secondary","Root","ThemeProvider","window","location","hostname","currentUser","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","timeZone","Intl","DateTimeFormat","resolvedOptions","version","LogRecord","logType","logIndex","timestamp","secondsSincePowerUp","LogRecordType","HISTORY","PUMP_ALARM","HistoryLogRecord","historyLogRecordType","flags","HistoryLogRecordType","END_MARKER","DEACTIVATE","TIME_CHANGE","BOLUS","BASAL_RATE","SUSPEND","DATE_CHANGE","SUGGESTED_CALC","REMOTE_HAZARD_ALARM","ALARM","BLOOD_GLUCOSE","CARB","TERMINATE_BOLUS","TERMINATE_BASAL","ACTIVATE","RESUME","DOWNLOAD","OCCLUSION","values","HistoryLogRecordFlag","CARRY_OVER","NEW_DAY","IN_PROGRESS","END_DAY","UNCONFIRMED","REVERSE_CORR","MAX_BOLUS","ERROR","DateChangeLogRecord","newDate","TimeChangeLogRecord","newTime","BasalLogRecord","basalRatePerHour","durationInMinutes","percent","BolusLogRecord","units","extendedDurationMinutes","calculationRecordOffset","immediateDurationSeconds","extended","SuggestedCalculationLogRecord","correctionDelivered","carbBolusDelivered","correctionProgrammed","carbBolusProgrammed","correctionSuggested","carbBolusSuggested","correctionJob","mealJob","correctionFactorUsed","currentBG","targetBG","correctionThresholdBG","carbGrams","icRatioUsed","AlarmLogRecord","alarmTime","alarmType","fileNumber","lineNumber","alarmErrorCode","RemoteHazardAlarmLogRecord","BloodGlucoseFlag","MANUAL_FLAG","TEMPERATURE_FLAG","BELOW_TARGET_FLAG","ABOVE_TARGET_FLAG","RANGE_ERROR_LOW_FLAG","RANGE_ERROR_HIGH_FLAG","OTHER_ERROR_FLAG","fromBitSet","bits","Set","bgFlag","BloodGlucoseLogRecord","errorCode","bgReading","userTag1","userTag2","bgFlags","CarbLogRecord","carbs","wasPreset","presetType","TerminateBolusLogRecord","insulinLeft","timeLeftMinutes","TerminateBasalLogRecord","ActivateLogRecord","lotNumber","serialNumber","podVersion","interlockVersion","PumpAlarmDetails","alarmTimestamp","sequenceNumber","processorVersion","AlarmType","explanation","stopsDelivery","find","PDM_ERROR0","PDM_ERROR1","PDM_ERROR2","PDM_ERROR3","PDM_ERROR4","PDM_ERROR5","PDM_ERROR6","PDM_ERROR7","PDM_ERROR8","PDM_ERROR9","SYSTEM_ERROR10","UNKNOWN11","SYSTEM_ERROR12","HAZ_REMOTE","HAZ_PUMP_VOL","HAZ_PUMP_AUTO_OFF","HAZ_PUMP_EXPIRED","HAZ_PUMP_OCCL","HAZ_PUMP_ACTIVATE","UNKNOWN19","UNKNOWN20","ADV_KEY","UNKNOWN22","ADV_PUMP_VOL","ADV_PUMP_AUTO_OFF","ADV_PUMP_SUSPEND","ADV_PUMP_EXP1","ADV_PUMP_EXP2","SYSTEM_ERROR28","EXP_WARNING","HAZ_PDM_AUTO_OFF","reader","FileReader","readAsArrayBuffer","Promise","resolve","reject","pumpRecords","onload","Buffer","from","result","recordCount","IBFRecordReader","LogRecordParser","parsed","keys","utcTime","moment","toISOString","product_pump_id","slow_insulin","module","exports","parseLogRecord","ibfRecord","it","byteReader","nextInt32BE","nextUInt16BE","nextDate","skip","bgErrorCode","bgFlagsValue","alarmTypeID","seqNumber","nextUInt32LE","nextInt32LE","undefined","historyLogRecordFlagsValue","historyLogRecordFlags","flag","nextString","nextVersion","forID"],"mappings":"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C,EACAC,EACAhS,EACAqS,EACAC,EACA+E,EACAC,EACAC,EACAC,EACAC,GACC,IAAD,8BACA,4CACE5F,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,KAEG+E,UAAYA,EACjB,EAAKC,UAAYA,EACjB,EAAKC,SAAWA,EAChB,EAAKC,SAAWA,EAChB,EAAKC,QAAUA,EAdf,EAdJ,2BAA2CrF,GAgC9BsF,EAAb,YACE,WACE7F,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,EACAqF,EACAC,EACAC,GACC,IAAD,8BACA,4CACEhG,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,KAEGqF,MAAQA,EACb,EAAKC,UAAYA,EACjB,EAAKC,WAAaA,EAZlB,EAZJ,2BAAmCzF,GA4BtB0F,EAAb,YACE,WACEjG,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,EACAyF,EACAC,GACC,IAAD,8BACA,4CACEnG,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,KAEGyF,YAAcA,EACnB,EAAKC,gBAAkBA,EAXvB,EAXJ,2BAA6C5F,GA0BhC6F,EAAb,YACE,WACEpG,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,EACA0F,GACC,IAAD,8BACA,4CACEnG,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,KAEG0F,gBAAkBA,EAVvB,EAVJ,2BAA6C5F,GAwBhC8F,EAAb,YACE,WACErG,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,EACA6F,EACAC,EACAC,EACAC,GACC,IAAD,8BACA,4CACEzG,EACAC,EACAC,EACAC,EACAhS,EACAqS,EACAC,KAEG6F,UAAYA,EACjB,EAAKC,aAAeA,EACpB,EAAKC,WAAaA,EAClB,EAAKC,iBAAmBA,EAbxB,EAbJ,2BAAuClG,GA8B1BmG,EAAb,YACE,WACE1G,EACAC,EACAC,EACAC,EACAhS,EACAwY,EACArC,EACAG,EACA6B,EACAM,EACAC,EACAJ,GAEC,IAAD,8BACA,4CACEzG,EACAC,EACAC,EACAC,EACAhS,KAEGwY,eAAiBA,EAC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","file":"static/js/main.8e793cbe.chunk.js","sourcesContent":["class IBFRecord {\n  constructor(buffer) {\n    this.buffer = buffer;\n  }\n\n  byteReader() {\n    return new IBFByteReader(this.buffer);\n  }\n}\n\nclass Version {\n  constructor(major, minor, patch) {\n    this.major = major;\n    this.minor = minor;\n    this.patch = patch;\n  }\n}\n\nclass IBFByteReader {\n  constructor(buffer) {\n    this.buffer = buffer;\n    this.offset = 0;\n  }\n  /* the number of bytes left in the IBFRecord that have not been consumed. */\n  remaining() {\n    return this.buffer.length - this.offset;\n  }\n\n  /* skips the specified number of bytes. */\n  skip(n) {\n    this.offset += n;\n  }\n\n  /* the next byte (int8) */\n  nextInt8() {\n    let value = this.buffer.readInt8(this.offset);\n    this.offset += 1;\n    return value;\n  }\n\n  /* the next unsigned short (uint16) in little-endian format */\n  nextUInt16LE() {\n    let value = this.buffer.readUInt16LE(this.offset);\n    this.offset += 2;\n    return value;\n  }\n\n  /* the next unsigned short (uint16) in big-endian format */\n  nextUInt16BE() {\n    let value = this.buffer.readUInt16BE(this.offset);\n    this.offset += 2;\n    return value;\n  }\n\n  /* the next signed short (int16) in little-endian format */\n  nextInt16LE() {\n    let value = this.buffer.readInt16LE(this.offset);\n    this.offset += 2;\n    return value;\n  }\n\n  /* the next signed short (int16) in big-endian format */\n  nextInt16BE() {\n    let value = this.buffer.readInt16BE(this.offset);\n    this.offset += 2;\n    return value;\n  }\n\n  /* the next unsigned integer (uint32) in little-endian format */\n  nextUInt32LE() {\n    let value = this.buffer.readUInt32LE(this.offset);\n    this.offset += 4;\n    return value;\n  }\n\n  /* the next unsigned integer (uint32) in big-endian format */\n  nextUInt32BE() {\n    let value = this.buffer.readUInt32BE(this.offset);\n    this.offset += 4;\n    return value;\n  }\n\n  /* the next signed integer (int32) in little-endian format */\n  nextInt32LE() {\n    let value = this.buffer.readInt32LE(this.offset);\n    this.offset += 4;\n    return value;\n  }\n\n  /* the next signed integer (int32) in big-endian format */\n  nextInt32BE() {\n    let value = this.buffer.readInt32BE(this.offset);\n    this.offset += 4;\n    return value;\n  }\n\n  /* the next date (Y-m-d H:m:s), inferred to be in the local time zone */\n  nextDate() {\n    if (this.remaining() < 7) {\n      return null;\n    }\n\n    let day = this.nextInt8();\n    let month = this.nextInt8();\n    let year = this.nextUInt16LE();\n    let seconds = this.nextInt8();\n    let minutes = this.nextInt8();\n    let hours = this.nextInt8();\n\n    return new Date(year, month - 1, day, hours, minutes, seconds);\n  }\n\n  /* the next version, as major.minor.patch with numerical components */\n  nextVersion() {\n    if (this.remaining() < 3) {\n      return null;\n    }\n\n    let major = this.nextInt8();\n    let minor = this.nextInt8();\n    let patch = this.nextInt8();\n\n    return new Version(major, minor, patch);\n  }\n\n  /*\n   * nextString reads a null-terminated string from a fixed-width field.\n   *\n   * Any bytes after the first null byte in the fixed-width field will be ignored.\n   */\n  nextString(fixedLength) {\n    let idx = this.offset;\n    while (this.buffer[idx] !== 0x00) {\n      idx++;\n    }\n    let strBuffer = this.buffer.slice(this.offset, idx);\n    this.offset += fixedLength;\n    return strBuffer.toString('latin1');\n  }\n}\n\nexport { IBFRecord, Version, IBFByteReader }\n","import { IBFRecord } from \"./IBFRecord\";\n\nfunction readIBFRecord(buffer) {\n  let remainingBytes = buffer.length;\n  if (remainingBytes < 4) {\n    return [null, buffer];\n  }\n\n  let recordSize = buffer.readUInt16BE(0);\n  if (remainingBytes < recordSize + 2) {\n    return [null, buffer];\n  }\n\n  let data = buffer.slice(2, recordSize);\n  let checksum = new Int32Array(1);\n  data.forEach(value => {\n    checksum[0] += (value & 0xff);\n  });\n\n  let expectedChecksum = buffer.readUInt16BE(recordSize);\n  if (checksum[0] !== expectedChecksum) {\n    let loggedData = [\n      'expectedChecksum = ' + expectedChecksum,\n      'actualChecksum = ' + checksum,\n      'recordSize = ' + recordSize,\n      'bytes = ' + data.toString('hex')\n    ];\n    throw Error('IBFIntegrityException: checksum(' + loggedData.join(', ') + ')');\n  }\n\n  return [new IBFRecord(data), buffer.slice(recordSize + 2, buffer.length)];\n}\n\nexport { readIBFRecord };\n","import * as APIUtil from '../util/sessionApiUtil';\n\nexport const REQUEST_LOGIN_CODE = 'REQUEST_LOGIN_CODE';\nexport const LOGIN_WITH_CODE = 'LOGIN_WITH_CODE';\nexport const RECEIVE_USER = 'RECEIVE_USER';\nexport const RECEIVE_TOKEN = 'RECEIVE_TOKEN';\nexport const RECEIVE_SESSION_ERROR = 'RECEIVE_SESSION_ERROR';\nexport const CLEAR_SESSION_ERROR = 'CLEAR_SESSION_ERROR';\nexport const UPDATE_SESSION_IS_PENDING = 'UPDATE_SESSION_IS_PENDING';\nexport const LOGOUT = 'LOGOUT';\n\nexport const requestLoginCode = email => dispatch => {\n  dispatch(updateSessionIsPending(true));\n  APIUtil.requestLoginCode(email)\n  .then(response => {\n    dispatch(receiveUser({\n      user_id: response.data.id,\n      email: email\n    }));\n    dispatch(updateSessionIsPending(false));\n  })\n  .catch(error => {\n    dispatch(receiveSessionError(error.response.data.error, 'email'));\n    dispatch(updateSessionIsPending(false));\n  })\n};\n\nexport const loginWithCode = (payload, history) => dispatch => {\n  dispatch(updateSessionIsPending(true));\n  APIUtil.loginWithCode(payload)\n  .then(response => {\n    dispatch(receiveToken(response.data));\n    dispatch(updateSessionIsPending(false));\n    history.push('/dashboard');\n  })\n  .catch(error => {\n    dispatch(receiveSessionError(error.response.data.error, 'code'));\n    dispatch(updateSessionIsPending(false));\n  })\n};\n\nexport const receiveUser = payload => {\n  return {\n    type: RECEIVE_USER,\n    payload\n  }\n};\n\nexport const receiveToken = (payload, history) => {\n  return {\n    type: RECEIVE_TOKEN,\n    payload\n  }\n};\n\nexport const receiveSessionError = (error, errorType) => ({\n  type: RECEIVE_SESSION_ERROR,\n  payload: {\n    error: error,\n    errorType: errorType\n  }\n});\n\nexport const clearSessionError = () => ({\n  type: CLEAR_SESSION_ERROR\n});\n\nexport const updateSessionIsPending = isPending => ({\n  type: UPDATE_SESSION_IS_PENDING,\n  payload: isPending\n});\n\nexport const logout = () => ({\n  type: LOGOUT\n})\n","import axios from 'axios';\nimport appConfig from '../config.js'\n\nexport const requestLoginCode = email => (\n  axios({\n    method: 'post',\n    url: `${appConfig.apiUrl}/users/code-gen`,\n    data: {\n      email: email,\n      forceUserExist: true\n    }\n  })\n);\n\nexport const loginWithCode = payload => (\n  axios({\n    method: 'post',\n    url: `${appConfig.apiUrl}/users/code-auth`,\n    data: {\n      email: payload.email,\n      code: payload.code,\n      app : 'patient_web'\n    }\n  })\n);\n","import { cloneDeep } from \"lodash\";\nimport {\n  RECEIVE_USER,\n  RECEIVE_TOKEN,\n  LOGOUT,\n  UPDATE_SESSION_IS_PENDING\n} from '../actions/sessionActions';\n\nconst _nullUser = Object.freeze({\n  email: null,\n  userId: null,\n  token: null,\n  loading: false\n});\n\nconst pastToken = {\n  token: localStorage.token\n}\n\nconst sessionReducer = (initState = pastToken, action) => {\n  Object.freeze(initState);\n  let newState = cloneDeep(initState);\n  switch (action.type) {\n    case RECEIVE_USER:\n      return {\n        userId: action.payload.user_id,\n        email: action.payload.email,\n        token: null\n      };\n\n    case RECEIVE_TOKEN:\n      localStorage.token = action.payload.token;\n      let userId = initState.userId;\n      return {\n        userId: userId,\n        token: action.payload.token\n      };\n\n    case LOGOUT:\n      localStorage.token = '';\n      return _nullUser;\n\n    case UPDATE_SESSION_IS_PENDING:\n      newState.loading = action.payload;\n      return newState;\n\n    default:\n      return initState;\n  }\n};\n\nexport default sessionReducer;\n","import {\n  RECEIVE_USER,\n  RECEIVE_TOKEN,\n  RECEIVE_SESSION_ERROR,\n  CLEAR_SESSION_ERROR\n} from '../actions/sessionActions';\n\nconst _nullError = {\n  email: null,\n  code: null\n}\n\nconst errorTranslate = (error) => {\n  const errorDictionary = {\n    WRONG_MAIL: 'Email non reconnu',\n    EMAIL_ALREADY_USED_FOR_PRO: 'Email déjà utilisé par un patient utilisant  DIABNEXT Pro',\n    USER_NOT_FOUND: 'Utilisateur non reconnu',\n    WRONG_CODE: 'Le code saisie est erroné'\n  }\n  if (errorDictionary[error]) {\n    return errorDictionary[error];\n  } else {\n    return error;\n  }\n}\n\nconst sessionErrorReducer = (initState = '', action) => {\n  Object.freeze(initState);\n  switch (action.type) {\n    case RECEIVE_USER:\n      return _nullError;\n    case RECEIVE_TOKEN:\n      return _nullError;\n    case RECEIVE_SESSION_ERROR:\n      let newState = {\n        email: null,\n        code: null\n      };\n      if (action.payload.errorType === 'email') {\n        newState.email = errorTranslate(action.payload.error);\n      } else if (action.payload.errorType === 'code') {\n        newState.code = errorTranslate(action.payload.error);\n      }\n\n      return newState;\n    case CLEAR_SESSION_ERROR:\n      return _nullError;\n    default:\n      return initState;\n  }\n};\n\nexport default sessionErrorReducer;\n","import * as APIUtil from '../util/userInfoApiUtil';\nimport { logout } from './sessionActions';\n\nexport const REQUEST_USER_INFO = 'REQUEST_USER_INFO';\nexport const RECEIVE_USER_INFO = 'RECEIVE_USER_INFO';\nexport const RECEIVE_WRONG_TOKEN = 'RECEIVE_WRONG_TOKEN';\n\nexport const requestUserInfo = token => dispatch => {\n  APIUtil.requestUserInfo(token)\n  .then(response => dispatch(receiveUserInfo(response.data.user)))\n  .catch(error => dispatch(receiveWrongToken()))\n};\n\nexport const receiveWrongToken = () => dispatch => {\n  dispatch(logout());\n};\n\nexport const receiveUserInfo = user => {\n  return {\n    type: RECEIVE_USER_INFO,\n    payload: user\n  }\n};\n","import axios from 'axios';\nimport appConfig from '../config.js';\n\nexport const requestUserInfo = token => (\n  axios({\n    method: 'get',\n    url: `${appConfig.apiUrl}/user/profile`,\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n);\n","import { cloneDeep } from 'lodash';\nimport {\n  RECEIVE_USER_INFO\n} from '../actions/userInfoActions';\n\nconst _nullUserInfo = Object.freeze({\n  user: {\n    id: null,\n    firstname: null,\n    lastname: null,\n    maiden_name: null,\n    email: null,\n    url_picture: null,\n    diabete_type: null,\n    diabete_type_color: null,\n    address1: null,\n    address2: null,\n    zip: null,\n    city: null,\n    country: null,\n    nirpp: null\n  },\n  loading: false\n});\n\nconst userInfoReducer = (initState = _nullUserInfo, action) => {\n  Object.freeze(initState);\n  let newState = cloneDeep(initState);\n  switch (action.type) {\n    case RECEIVE_USER_INFO:\n      newState.user = action.payload;\n      return newState;\n\n    default:\n      return initState;\n  }\n};\n\nexport default userInfoReducer;\n","const productList = [\n  {\n    id: 96,\n    name: 'OmniPod',\n    picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/products/OmniPod_OmniPod.png',\n    disabled: false,\n    brand: {\n      name: 'OmniPod',\n      picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/brands/OmniPod.png'\n    }\n  },\n  {\n    id: 93,\n    name: 'Paradigm Veo',\n    picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/products/Medtronic_ParadigmVeo.png',\n    disabled: true,\n    brand: {\n      name: 'Medtronic',\n      picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/brands/Medtronic.png'\n    }\n  },\n  {\n    id: 94,\n    name: 'MiniMed 640G',\n    picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/products/Medtronic_MiniMed640G.png',\n    disabled: true,\n    brand: {\n      name: 'Medtronic',\n      picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/brands/Medtronic.png'\n    }\n  },\n  {\n    id: 95,\n    name: 'MiniMed 670G',\n    picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/products/Medtronic_MiniMed670G.png',\n    disabled: true,\n    brand: {\n      name: 'Medtronic',\n      picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/brands/Medtronic.png'\n    }\n  },\n  {\n    id: 97,\n    name: 'YpsoPump',\n    picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/products/Ypsomed_YpsoPump.png',\n    disabled: true,\n    brand: {\n      name: 'Ypsomed',\n      picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/brands/Ypsomed.png'\n    }\n  },\n  {\n    id: 98,\n    name: 'Accu-Chek Insight',\n    picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/products/Roche_ACCU-CHEK_Insight.png',\n    disabled: true,\n    brand: {\n      name: 'Roche',\n      picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/brands/Roche.png'\n    }\n  },\n  {\n    id: 99,\n    name: 'Kaleido',\n    picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/products/Kaleido_Kaleido.png',\n    disabled: true,\n    brand: {\n      name: 'Kaleido',\n      picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/brands/Kaleido.png'\n    }\n  },\n]\n\nexport const requestProductList = () => productList;\n","import * as APIUtil from '../util/productListUtil';\nexport const REQUEST_PRODUCT_LIST = 'REQUEST_PRODUCT_LIST';\nexport const RECEIVE_PRODUCT_LIST = 'RECEIVE_PRODUCT_LIST';\n\nexport const requestProductList = () => dispatch => {\n  const productList = APIUtil.requestProductList();\n  dispatch(receiveProductList(productList));\n};\n\nexport const receiveProductList = productList => {\n  return {\n    type: RECEIVE_PRODUCT_LIST,\n    payload: productList\n  }\n};\n","import {\n  RECEIVE_PRODUCT_LIST\n} from '../actions/productListActions';\n\nconst _nullProductList = [];\n\nconst productListReducer = (initState = _nullProductList, action) => {\n  Object.freeze(initState);\n  switch (action.type) {\n    case RECEIVE_PRODUCT_LIST:\n      return action.payload;\n\n    default:\n      return initState;\n  }\n};\n\nexport default productListReducer;\n","const productDetails = {\n  96: {\n    id: 96,\n    name: 'OmniPod',\n    product_picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/products/OmniPod_OmniPod.png',\n    brand_picture_url: 'https://diabnext-app.s3.amazonaws.com/pictures/brands/OmniPod.png',\n    ios: {\n      note: 'Note : La pompe Omnipod fonctionne comme une clée USB',\n      steps: [\n        'Connectez l’Omnipod au PC, grâce au cable.',\n        'Cliquez et ouvrez le lecteur USB : exemple : « NO NAME » ',\n        'Faites glisser le fichier trouvé ci-dessous. Il s’agit d’un format .ibf',\n        'Vous pouvez consulter les données sur votre application DIABNEXT.'\n      ]\n    },\n    android: {\n      note: null,\n      steps: [\n        'Connectez vous à l’app DIABNEXT',\n        'Connectez l’Omnipod à votre smartphone, grâce au cable.',\n        'Veuillez confirmer qu’il s’agit bien de la pompe Omnipod.',\n        'Attendez que la barre de chargement soit complétée.',\n        'Vous pouvez consulter les données sur votre app DIABNEXT',\n      ]\n    }\n  }\n};\n\nexport const requestProductDetail = id => {\n  if (productDetails[id]) {\n    return productDetails[id];\n  } else {\n    return null;\n  }\n};\n","import * as APIUtil from '../util/productDetailUtil';\nexport const REQUEST_PRODUCT_DETAIL = 'REQUEST_PRODUCT_DETAIL';\nexport const RECEIVE_PEODUCT_DETAIL = 'RECEIVE_PEODUCT_DETAIL';\n\nexport const requestProductDetail = id => dispatch => {\n  const productDetail = APIUtil.requestProductDetail(id);\n  dispatch(receiveProductDetail(productDetail));\n};\n\nexport const receiveProductDetail = productDetail => {\n  return {\n    type: RECEIVE_PEODUCT_DETAIL,\n    payload: productDetail\n  }\n};\n","import {\n  RECEIVE_PEODUCT_DETAIL\n} from '../actions/productDetailActions';\n\nconst _nullProductDetail = {\n  name: null,\n  picture_url: null,\n  ios: {\n    note: null,\n    steps: null\n  },\n  android: {\n    note: null,\n    steps: null\n  }\n};\n\nconst productDetailReducer = (initState = _nullProductDetail, action) => {\n  Object.freeze(initState);\n  switch (action.type) {\n    case RECEIVE_PEODUCT_DETAIL:\n      return action.payload;\n\n    default:\n      return initState;\n  }\n};\n\nexport default productDetailReducer\n","import * as APIUtil from '../util/uploaderApiUtil';\n\nexport const UPLOAD_RECORDS = 'UPLOAD_RECORDS';\nexport const UPDATE_UPLOAD_STATUS = 'UPDATE_UPLOAD_STATUS';\nexport const REQUEST_LAST_RECORD = 'REQUEST_LAST_RECORD';\nexport const RECEIVE_LAST_RECORD = 'RECEIVE_LAST_RECORD';\n\nexport const uploadRecords = (token, records, productId, lastRecordTimestamp) => dispatch => {\n  dispatch(updateUploadStatus('processing'));\n\n  APIUtil.uploadRecords(token, records, lastRecordTimestamp)\n  .then(response => {\n    dispatch(updateUploadStatus('success'))\n    dispatch(requestLastRecord(token, productId))\n  })\n  .catch(error => {\n    dispatch(updateUploadStatus('failed'))\n  })\n};\n\nexport const updateUploadStatus = status => {\n  return {\n    type: UPDATE_UPLOAD_STATUS,\n    payload: status\n  }\n};\n\nexport const requestLastRecord = (token, productId) => dispatch => {\n  APIUtil.requestLastRecord(token, productId)\n  .then(response => {\n    dispatch(receiveLastRecord(response.data.record))\n  })\n  .catch(error => {\n    console.log(error);\n  })\n};\n\nexport const receiveLastRecord = record => {\n  return {\n    type: RECEIVE_LAST_RECORD,\n    payload: record\n  }\n}\n","import axios from 'axios';\nimport appConfig from '../config.js';\n\nexport const uploadRecords = (token, records, lastRecordTimestamp) => {\n  let recordsToUpload;\n  if (lastRecordTimestamp) {\n    recordsToUpload = records.filter(record => new Date(record.recorded_at) > new Date(lastRecordTimestamp));\n  } else {\n    recordsToUpload = records;\n  }\n\n  let promiseArray = [];\n\n  while (recordsToUpload.length > 0) {\n    promiseArray.push(recordsToUpload.slice(0,299));\n    recordsToUpload = recordsToUpload.slice(299, recordsToUpload.length);\n  }\n\n  promiseArray = promiseArray.map(el => {\n    return axios({\n      method: 'post',\n      url: `${appConfig.apiUrl}/records`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      data: {\n        records: el\n      }\n    })\n  });\n  return axios.all(promiseArray);\n};\n\nexport const requestLastRecord = (token, productId) => {\n  return axios({\n    method: 'get',\n    url: `${appConfig.apiUrl}/records/last/${productId}`,\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n}\n","import { cloneDeep } from 'lodash';\nimport {\n  UPDATE_UPLOAD_STATUS,\n  RECEIVE_LAST_RECORD\n} from '../actions/uploaderActions';\n\nconst _defaultStatus = Object.freeze({\n  status: 'default',\n  lastRecordTimestamp: null\n});\n\nconst uploaderReducer = (initState = _defaultStatus, action) => {\n  let newState = cloneDeep(initState);\n  switch (action.type) {\n    case UPDATE_UPLOAD_STATUS:\n      newState.status = action.payload;\n      return newState;\n\n    case RECEIVE_LAST_RECORD:\n      newState.lastRecordTimestamp = action.payload.recorded_at;\n      return newState;\n\n    default:\n      return initState;\n  }\n};\n\nexport default uploaderReducer;\n","import { combineReducers } from 'redux';\nimport sessionReducer from './sessionReducer';\nimport sessionErrorReducer from './sessionErrorReducer';\nimport userInfoReducer from './userInfoReducer';\nimport productListReducer from './productListReducer';\nimport productDetailReducer from './productDetailReducer';\nimport uploaderReducer from './uploaderReducer';\n\nconst rootReducer = combineReducers({\n  session: sessionReducer,\n  sessionError: sessionErrorReducer,\n  userInfo: userInfoReducer,\n  productList: productListReducer,\n  productDetail: productDetailReducer,\n  uploader: uploaderReducer\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\n\nimport rootReducer from '../reducers/rootReducer';\n\nlet middleware = [];\nif (process.env.NODE_ENV === 'development') {\n  middleware = [...middleware, thunk, logger];\n} else {\n  middleware = [...middleware, thunk];\n}\n\nconst configureStore = (preloadedState = {}) => (\n  createStore(\n    rootReducer,\n    preloadedState,\n    applyMiddleware(...middleware)\n  )\n);\n\nexport default configureStore;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { Route, Redirect, withRouter } from 'react-router-dom';\n\nconst mapStateToProps = state => ({\n  loggedIn: Boolean(state.session.token)\n})\n\nconst Auth = ({ component: Component, loggedIn, path }) => (\n  <Route\n    path = { path }\n    render = {\n      props => (loggedIn ? <Redirect to='/dashboard' /> : <Component { ...props } />)\n    }\n  />\n);\n\nconst Protected = ({ component: Component, loggedIn, path }) => (\n  <Route\n    path={ path }\n    render={\n      props => (loggedIn ? <Component { ...props } /> : <Redirect to='/login' />)\n    }\n  />\n);\n\nexport const AuthRoute = withRouter(connect(mapStateToProps)(Auth));\nexport const ProtectedRoute = withRouter(connect(mapStateToProps)(Protected));\n","import Drawer from '@material-ui/core/Drawer';\nimport { withStyles } from '@material-ui/core/styles';\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    width: '80px',\n    height: '100vh',\n    border: '0px'\n  },\n  paper: {\n    width: '80px',\n    background: '#17b9df'\n  }\n};\n\nexport default withStyles(styles)(Drawer);\n","import ExitToApp from '@material-ui/icons/ExitToApp';\nimport { withStyles } from '@material-ui/core/styles';\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    fontSize: '40px',\n    color: '#FFFFFF',\n    margin: 'auto'\n  },\n};\n\nexport default withStyles(styles)(ExitToApp);\n","import React, { Component } from 'react';\nimport bigD from '../../images/bigD_icon.png';\nimport Drawer from '../uiElements/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport LogoutIcon from '../uiElements/LogoutIcon';\nimport './sidebar.style.css';\n\nclass Sidebar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sidebarOpen: true\n    };\n    this.handleDrawerOpen = this.handleDrawerOpen.bind(this);\n    this.handleDrawerClose = this.handleDrawerClose.bind(this);\n  }\n\n  handleDrawerOpen() {\n    this.setState({sidebarOpen: true});\n  };\n\n  handleDrawerClose() {\n    this.setState({sidebarOpen: false});\n  };\n\n  render() {\n    if (this.props.isLoggedIn) {\n      return (\n        <Drawer\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={ this.state.sidebarOpen }\n        >\n          <img src={ bigD } id='diabnext-favicon' alt='logo' />\n          <List>\n            <ListItem button key='logout' onClick={ this.props.logout }>\n              <LogoutIcon />\n            </ListItem>\n          </List>\n        </Drawer>\n      )\n    }\n    else {\n      return (\n        <div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default Sidebar;\n","import { connect } from 'react-redux';\nimport Sidebar from './sidebar';\n\nimport {\n  logout\n} from '../../actions/sessionActions';\n\nconst mapStateToProps = state => ({\n  isLoggedIn: Boolean(state.session.token)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  logout: () => dispatch(logout())\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Sidebar);\n","import Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    background: '#17b9df',\n    borderRadius: 5,\n    border: 0,\n    color: 'white',\n    height: 48,\n    padding: '0 30px',\n    width: 'auto',\n    fontWeight: '700',\n    marginBottom: '20px',\n    '&:hover': {\n      backgroundColor: '#0982BA',\n      color: 'white',\n      border: 0\n    },\n  },\n};\n\nexport default withStyles(styles)(Button);\n","import CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    color: '#17b9df'\n  },\n};\n\nexport default withStyles(styles)(CircularProgress);\n","import React, { Component } from 'react';\nimport Button from '../uiElements/Button';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '../uiElements/CircularProgress';\nimport './sessionForm.style.css';\nimport logo from '../../images/diabnext_logo.png';\n\nclass SessionForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: this.props.email || '',\n      code: ''\n    };\n    this.requestLoginCode = this.requestLoginCode.bind(this);\n    this.loginWithCode = this.loginWithCode.bind(this);\n  }\n\n  update(field) {\n    return e => this.setState({ [field]: e.currentTarget.value });\n  }\n\n  emailInput() {\n    if (this.props.userId) {\n      return (\n        <TextField\n          disabled\n          id='session-email-input'\n          label='Email'\n          defaultValue={ this.props.email }\n          variant='outlined'\n          color='primary'\n        />\n      )\n    }\n    if (this.props.errors.email) {\n      return (\n        <TextField\n          error\n          id='session-email-input'\n          label='Email'\n          defaultValue={ this.props.email }\n          onChange={ this.props.clearSessionError }\n          variant='outlined'\n          helperText={ this.props.errors.email }\n          color='primary'\n        />\n      )\n    } else {\n      return (\n        <TextField\n          id='session-email-input'\n          label='Email'\n          defaultValue={ this.props.email }\n          onChange={ this.update('email') }\n          variant='outlined'\n          color='primary'\n        />\n      )\n    }\n  }\n\n  codeInput() {\n    if (this.props.errors.code) {\n      return (\n        <TextField\n          error\n          id='session-code-input'\n          label='Code'\n          defaultValue={ this.props.code }\n          onChange={ this.props.clearSessionError }\n          variant='outlined'\n          helperText={ this.props.errors.code }\n        />\n      )\n    } else {\n      return (\n        <TextField\n          id='session-code-input'\n          label='Code'\n          defaultValue={ this.props.code }\n          onChange={ this.update('code') }\n          variant='outlined'\n        />\n      )\n    }\n  }\n\n  requestLoginCode(e) {\n    e.preventDefault();\n    this.props.requestLoginCode(this.state.email);\n  }\n\n  loginWithCode(e) {\n    e.preventDefault();\n    this.props.loginWithCode(\n      { email: this.state.email, code: this.state.code },\n      this.props.history\n    )\n  }\n\n  submitButton() {\n    if (!this.state.email) {\n      return (\n        <Button\n          variant='contained'\n          onClick={ this.requestLoginCode }\n          disabled\n        >\n          Next\n        </Button>\n      )\n    } else if (!this.props.userId) {\n      return (\n        <Button\n          variant='contained'\n          onClick={ this.requestLoginCode }\n        >\n          Next\n        </Button>\n      )\n    } else {\n      return (\n        <Button\n          variant='contained'\n          onClick={ this.loginWithCode }\n        >\n          Login\n        </Button>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div id='page-container'>\n        <section>\n          <form id='session-form'>\n            <img src={ logo } alt='logo' id='diabnext-logo' />\n            { this.emailInput() }\n            <br />\n            { this.props.userId ? this.codeInput() : '' }\n            <br/>\n            { this.props.loading ? <CircularProgress /> : this.submitButton() }\n          </form>\n        </section>\n      </div>\n    )\n  }\n}\n\nexport default SessionForm;\n","import { connect } from 'react-redux';\nimport SessionForm from './sessionForm';\n\nimport {\n  requestLoginCode,\n  loginWithCode,\n  clearSessionError\n} from '../../actions/sessionActions';\n\nconst mapStateToProps = state => ({\n  email: state.session.email,\n  userId: state.session.userId,\n  loading: state.session.loading,\n  errors: state.sessionError\n});\n\nconst mapDispatchToProps = dispatch => ({\n  requestLoginCode: email => dispatch(requestLoginCode(email)),\n  loginWithCode: (payload, history) => dispatch(loginWithCode(payload, history)),\n  clearSessionError: () => dispatch(clearSessionError())\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SessionForm);\n","import React, { Component } from 'react';\nimport IBFReader from '../../util/uploader/IBFReader';\n\nclass Uploader extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onChangeHandler(event) {\n    let file = event.target.files[0];\n    IBFReader(file);\n  }\n\n  render() {\n    return (\n      <div>\n         <input\n          type=\"file\"\n          name=\"file\"\n          accept='.ibf'\n          onChange={this.onChangeHandler}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Uploader;\n","import { connect } from 'react-redux';\nimport Uploader from './uploader';\n\nconst mapStateToProps = state => ({\n\n});\n\nconst mapDispatchToProps = dispatch => ({\n\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Uploader);\n","import Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  root: {\n    padding: '20px',\n    backgroundColor: '#FFFFFF',\n    marginBottom: '20px'\n  }\n};\n\nexport default withStyles(styles)(Paper);\n","import Avatar from '@material-ui/core/Avatar';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  root: {\n    width: '120px',\n    height: '120px'\n  }\n};\n\nexport default withStyles(styles)(Avatar);\n","import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '../uiElements/Paper';\nimport Avatar from '../uiElements/Avatar';\nimport './userInfo.style.css';\n\nclass UserInfo extends Component {\n  componentDidMount() {\n    this.props.requestUserInfo(this.props.token);\n  }\n\n  render() {\n    const {\n      // id,\n      firstname,\n      lastname,\n      maiden_name,\n      email,\n      url_picture,\n      diabete_type,\n      // diabete_type_color,\n      address1,\n      address2,\n      zip,\n      city,\n      country,\n      nirpp\n    } = this.props.user;\n    return (\n      <Paper elevation={ 3 } variant='outlined'>\n        <Grid container justify=\"space-around\" alignItems=\"center\" spacing={ 2 }>\n          <Grid item xs={ 12 } sm={ 12 } md={ 2 } id='avatar-and-email'>\n            <Avatar alt=\"user-pic\" src={ url_picture } />\n            <a href={`mailto:${ email }`}>{ email }</a>\n          </Grid>\n          <Grid item xs={ 12 } sm={ 5 } md={ 4 }>\n            <p>\n              <strong>Prénom : </strong>\n              { firstname }\n            </p>\n            <p>\n              <strong>Nom : </strong>\n              { lastname }\n            </p>\n            <p>\n              <strong>Nom de jeune fille : </strong>\n              { maiden_name }\n            </p>\n            <p>\n              <strong>Type de diabète : </strong>\n              { diabete_type }\n            </p>\n            <p>\n              <strong>Numéro de sécurité sociale : </strong>\n              { nirpp }\n            </p>\n          </Grid>\n          <Grid item xs={ 12 } sm={ 5 } md={ 4 }>\n            <p>\n            <strong>Adresse du patient ligne 1 : </strong>\n            { address1 }\n            </p>\n            <p>\n            <strong>Adresse du patient ligne 2 : </strong>\n            { address2 }\n            </p>\n            <p>\n            <strong>Code postal : </strong>\n            { zip }\n            </p>\n            <p>\n            <strong>Ville : </strong>\n            { city }\n            </p>\n            <p>\n            <strong>Pays : </strong>\n            { country }\n            </p>\n          </Grid>\n        </Grid>\n      </Paper>\n    )\n  }\n}\n\nexport default UserInfo;\n","import { connect } from 'react-redux';\nimport UserInfo from './userInfo';\n\nimport {\n  requestUserInfo\n} from '../../actions/userInfoActions';\n\nconst mapStateToProps = state => ({\n  token: state.session.token,\n  user: state.userInfo.user,\n  loading: state.userInfo.loading\n});\n\nconst mapDispatchToProps = dispatch => ({\n  requestUserInfo: token => dispatch(requestUserInfo(token))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UserInfo);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport { withStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\nconst styles = {\n  root: {\n    display:'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '20px',\n    '&:hover': {\n      cursor: 'pointer',\n      background: '#f1f3f6'\n    }\n  }\n};\n\nfunction HoverEffectCard(props) {\n  const { classes, children, className, ...other } = props;\n\n  return (\n    <Card className={clsx(classes.root, className)} {...other}>\n    {children || 'class names'}\n    </Card>\n  );\n}\n\nHoverEffectCard.propTypes = {\n  children: PropTypes.node,\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n};\n\nexport default withStyles(styles)(HoverEffectCard);\n","import { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\n\nconst styles = {\n  root: {\n    display:'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '20px'\n  }\n};\n\nexport default withStyles(styles)(Card);\n","import React, { Component } from 'react';\nimport Paper from '../uiElements/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport HoverEffectCard from '../uiElements/HoverEffectCard';\nimport Card from '../uiElements/Card';\n\nimport './productList.style.css';\n\nclass ProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSelectProduct = this.handleSelectProduct.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.requestProductList();\n  }\n\n  handleSelectProduct(id) {\n    this.props.history.push(`/dashboard/${id}`);\n  }\n\n  renderProducts() {\n    return this.props.products.map(p =>\n      {\n        if (p.disabled) {\n          return (\n            <Grid item key={ p.name } md={ 4 } lg={ 3 } xl={ 2 }>\n              <Card variant=\"outlined\">\n                <img\n                  className='brand-img transparent-img'\n                  alt={ p.brand.name }\n                  src={ p.brand.picture_url }\n                />\n                <img\n                  className='product-img  transparent-img'\n                  alt={ p.name }\n                  src={ p.picture_url }\n                />\n              </Card>\n            </Grid>\n          )\n        } else {\n          return (\n            <Grid item key={ p.name } md={ 4 } lg={ 3 } xl={ 2 }>\n              <HoverEffectCard\n                variant=\"outlined\"\n                onClick={\n                  () => {\n                    if (!p.disabled) {\n                      this.handleSelectProduct(p.id);\n                    }\n                  }\n                }\n                className={ p.disabled ? 'disabled-card' : '' }\n              >\n                <img\n                  className='brand-img'\n                  alt={ p.brand.name }\n                  src={ p.brand.picture_url }\n                />\n                <img\n                  className='product-img'\n                  alt={ p.name }\n                  src={ p.picture_url }\n                />\n              </HoverEffectCard>\n            </Grid>\n          )\n        }\n      }\n    )\n  }\n\n  render() {\n    return (\n      <Paper variant='outlined'>\n        <h3>Télécharger</h3>\n        <Divider />\n        <Grid container>\n          {this.renderProducts()}\n        </Grid>\n      </Paper>\n    )\n  }\n}\n\nexport default ProductList;\n","import { connect } from 'react-redux';\nimport ProductList from './productList';\n\nimport { requestProductList } from '../../actions/productListActions';\n\nconst mapStateToProps = state => ({\n  products: state.productList\n});\n\nconst mapDispatchToProps = dispatch => ({\n  requestProductList: () => dispatch(requestProductList())\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ProductList)\n","import AndroidIcon from '@material-ui/icons/Android';\nimport { withStyles } from '@material-ui/core/styles';\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    fontSize: '40px',\n    color: '#555555',\n    margin: '5px'\n  },\n};\n\nexport default withStyles(styles)(AndroidIcon);\n","import AppleIcon from '@material-ui/icons/Apple';\nimport { withStyles } from '@material-ui/core/styles';\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    fontSize: '40px',\n    color: '#555555',\n    margin: '5px'\n  },\n};\n\nexport default withStyles(styles)(AppleIcon);\n","import ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { withStyles } from '@material-ui/core/styles';\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    fontSize: '40px',\n    color: '#FFFFFF',\n    margin: '20px',\n    background: '#17b9df',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  },\n};\n\nexport default withStyles(styles)(ArrowBackIcon);\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { withStyles } from '@material-ui/core/styles';\n\nconst spinnerStyles = {\n  spinner: {\n    marginLeft: 20,\n    color: '#FFFFFF'\n  }\n};\n\nconst buttonStyles = {\n  root: {\n    background: '#17b9df',\n    borderRadius: 5,\n    border: 0,\n    color: 'white',\n    height: 48,\n    padding: '0 30px',\n    width: 'auto',\n    fontWeight: '700',\n    marginBottom: '20px',\n    '&:hover': {\n      backgroundColor: '#0982BA',\n      color: 'white',\n      border: 0\n    },\n  },\n};\n\nconst SpinnerAdornment = withStyles(spinnerStyles)(props => (\n  <CircularProgress\n    className={props.classes.spinner}\n    size={30}\n  />\n));\n\nconst LoadingButton = (props) => {\n  const {\n    children,\n    loading,\n    ...rest\n  } = props\n  return (\n    <Button {...rest} disabled={loading}>\n      {children}\n      {loading && <SpinnerAdornment {...rest} />}\n    </Button>\n  )\n};\n\nexport default withStyles(buttonStyles)(LoadingButton);\n","import { withStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\n\nconst styles = {\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  root: {\n    background: '#FFFFFF'\n  },\n  paper: {\n    position: 'absolute',\n    width: 450,\n  },\n};\n\nexport default withStyles(styles)(Modal);\n","import CheckIcon from '@material-ui/icons/CheckCircleOutline';\nimport { withStyles } from '@material-ui/core/styles';\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    fontSize: '80px',\n    margin: '20px',\n    color: '#17b9df',\n  },\n};\n\nexport default withStyles(styles)(CheckIcon);\n","import HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = {\n  root: {\n    fontSize: '80px',\n    margin: '20px',\n    color: '#FF0000',\n  },\n};\n\nexport default withStyles(styles)(HighlightOffIcon);\n","import React, { Component } from 'react';\nimport Modal from '../uiElements/Modal';\nimport CheckIcon from '../uiElements/CheckIcon';\nimport ErrorIcon from '../uiElements/ErrorIcon';\nimport Button from '../uiElements/Button';\nimport './uploadedModal.style.css';\n\nclass UploadedModal extends Component {\n  constructor(props) {\n    super(props);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n  }\n\n  handleCloseModal() {\n    this.props.updateUploadStatus('default');\n  }\n\n  renderSuccessModal() {\n    return (\n      <div className='modal-content'>\n        <CheckIcon />\n        <h3>Données téléchargées</h3>\n        <p>Ouvrez l’application DIABNEXT pour voir les données de votre pompe.</p>\n        <Button onClick={ this.handleCloseModal }>OK</Button>\n      </div>\n    )\n  }\n\n  renderFailedModal() {\n    return (\n      <div className='modal-content'>\n        <ErrorIcon />\n        <h3>Oops! Le téléchargement a échoué</h3>\n        <p>Please refresh the page and try again</p>\n        <Button onClick={ this.handleCloseModal }>OK</Button>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <Modal\n        open={ this.props.showModal }\n        // open={true}\n        onClose={ this.handleCloseModal }\n      >\n        {\n          this.props.status === 'success' ?\n          this.renderSuccessModal() : this.renderFailedModal()\n        }\n      </Modal>\n    )\n  }\n}\n\nexport default UploadedModal;\n","import React, { Component } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport AndroidIcon from '../uiElements/AndroidIcon';\nimport AppleIcon from '../uiElements/AppleIcon';\nimport Card from '../uiElements/Card';\nimport BackIcon from '../uiElements/BackIcon';\nimport LoadingButton from '../uiElements/LoadingButton';\nimport UploadedModal from '../uploadedModal/uploadedModal';\n\nimport './productDetail.style.css';\nimport IBFReader from '../../util/uploader/IBFReader';\n\nclass ProductDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.handleBackToList = this.handleBackToList.bind(this);\n    this.renderInstruction = this.renderInstruction.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.requestProductDetail(this.props.id);\n    this.props.requestLastRecord(this.props.token, this.props.id);\n  }\n\n  handleBackToList() {\n    this.props.history.push('/dashboard')\n  }\n\n  handleUpload(e) {\n    let file = e.target.files[0];\n    e.target.value = null;\n    let token = this.props.token;\n    let productId = this.props.id\n    let lastRecordTimestamp = this.props.lastRecordTimestamp\n    IBFReader(file, this.props.detail.id)\n    .then(records => {\n      this.props.uploadRecords(token, records, productId, lastRecordTimestamp);\n    })\n    .catch(err => {\n      this.props.updateUploadStatus('failed')\n    });\n  }\n\n  renderInstruction(type) {\n    const { steps, note } = this.props.detail[type];\n    let renderSteps;\n    const button = (\n      <div key='file-input'>\n        <input\n          disabled={ this.props.uploadStatus === 'processing' }\n          accept='.ibf'\n          style={{ display: 'none' }}\n          id='raised-button-file'\n          type='file'\n          onChange={ this.handleUpload }\n        />\n        <label htmlFor='raised-button-file'>\n          {\n            <LoadingButton\n              loading={ this.props.uploadStatus === 'processing' }\n              component='span'\n            >\n              TÉLÉCHARGER\n            </LoadingButton>\n          }\n        </label>\n      </div>\n    )\n\n    if (steps) {\n      renderSteps = steps.map((step, idx) => (\n        <li key={`${ type }-${ idx }`}>{ step }</li>\n      ));\n      if (type === 'ios') {\n        renderSteps.splice(3, 0, button)\n      }\n    }\n\n    return (\n      <div className='instruction-holder'>\n        { type === 'android' ?\n          <div className='instruction-title'><AndroidIcon />ANDRIOD</div>\n          :\n          <div className='instruction-title'><AppleIcon />iOS</div>\n        }\n        <div className='instruction-content'>\n          <p className='instruction-note'>{ note }</p>\n          <ol>{ renderSteps }</ol>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const {\n      id,\n      brand_picture_url,\n      product_picture_url\n    } = this.props.detail;\n    return (\n      <Paper variant='outlined'>\n        <Grid container>\n          <Grid item sm={ 3 } md={ 1 }>\n            <BackIcon onClick={ this.handleBackToList }/>\n          </Grid>\n          <Grid item sm={ 9 } md={ 3 }>\n            <Card variant='outlined'>\n              <img className='brand-img' alt={ `${id}-brand` } src={ brand_picture_url } />\n              <img className='product-img' alt={ `${id}-product` } src={ product_picture_url } />\n            </Card>\n          </Grid>\n          <Grid item sm={ 6 } md={ 4 }>\n            { this.renderInstruction('android') }\n          </Grid>\n          <Grid item sm={ 6 } md={ 4 }>\n            { this.renderInstruction('ios') }\n          </Grid>\n        </Grid>\n        <UploadedModal\n          showModal={\n            this.props.uploadStatus === 'success' || this.props.uploadStatus === 'failed'\n          }\n          status={ this.props.uploadStatus }\n          updateUploadStatus={ this.props.updateUploadStatus }\n        />\n      </Paper>\n    )\n  }\n}\n\nexport default ProductDetail;\n","import { connect } from 'react-redux';\nimport ProductDetail from './productDetail';\n\nimport {\n  requestProductDetail\n} from '../../actions/productDetailActions';\n\nimport {\n  uploadRecords,\n  updateUploadStatus,\n  requestLastRecord\n} from '../../actions/uploaderActions';\n\nconst mapStateToProps = state => ({\n  token: state.session.token,\n  detail: state.productDetail,\n  uploadStatus: state.uploader.status,\n  lastRecordTimestamp: state.uploader.lastRecordTimestamp\n});\n\nconst mapDispatchToProps = dispatch => ({\n  requestProductDetail: id => dispatch(requestProductDetail(id)),\n  uploadRecords: (\n    token,\n    records,\n    productId,\n    lastRecordTimestamp\n  ) => dispatch(uploadRecords(token, records, productId, lastRecordTimestamp)),\n  updateUploadStatus: status => dispatch(updateUploadStatus(status)),\n  requestLastRecord: (token, productId) => dispatch(requestLastRecord(token, productId))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ProductDetail);\n","import React, { Component } from 'react';\nimport UserInfo from '../userInfo/userInfoContainer';\nimport ProductList from '../productList/productListContainer';\nimport ProductDetail from '../productDetail/productDetailContainer';\nimport './dashboard.style.css';\n\nclass Dashboard extends Component {\n  render() {\n    const productId = this.props.match.params.id;\n    return (\n      <div id='dashboard'>\n        <UserInfo />\n        {\n          productId ?\n          <ProductDetail\n            history={ this.props.history }\n            id={ productId }\n          /> :\n          <ProductList\n            history={ this.props.history }\n          />\n        }\n      </div>\n    )\n  }\n}\n\nexport default Dashboard;\n","import { connect } from 'react-redux';\nimport Dashboard from './dashboard';\n\nconst mapStateToProps = state => ({\n\n});\n\nconst mapDispatchToProps = dispatch => ({\n\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Dashboard);\n","import React from 'react';\nimport {\n  Switch\n} from 'react-router-dom';\nimport './App.css';\nimport {\n  AuthRoute,\n  ProtectedRoute\n} from '../util/routeUtil';\nimport Sidebar from './sidebar/sidebarContainer';\nimport sessionContainer from './session/sessionContainer';\nimport uploaderContainer from './uploader/uploaderContainer';\nimport dashboardContainer from './dashboard/dashboardContainer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <nav>\n      <Sidebar />\n      </nav>\n      <main style={{ backgroundColor: '#f1f3f6' }}>\n        <Switch>\n           <AuthRoute exact path='/' component={ sessionContainer } />\n           <AuthRoute exact path='/login' component={ sessionContainer } />\n           <ProtectedRoute exact path='/uploader' component={ uploaderContainer } />\n           <ProtectedRoute exact path='/dashboard' component={ dashboardContainer} />\n           <ProtectedRoute exact path='/dashboard/:id' component={ dashboardContainer} />\n        </Switch>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport configureStore from './store/store';\nimport './index.css';\nimport Root from './components/root';\nimport * as serviceWorker from './serviceWorker';\n\nlet store;\nif (window.currentUser) {\n  const preloadedState = { session: { currentUser: window.currentUser } };\n  store = configureStore(preloadedState);\n} else {\n  store = configureStore()\n}\n\nReactDOM.render(<Root store={store}/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nimport App from './App';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#17b9df',\n    },\n    secondary: {\n      main: '#0982BA'\n    }\n  },\n});\n\nconst Root = ({ store }) => (\n  <Provider store={ store }>\n    <HashRouter>\n      <ThemeProvider theme={ theme }>\n        <App />\n      </ThemeProvider>\n    </HashRouter>\n  </Provider>\n);\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export default {\n  // apiUrl: \"https://dev-api.diabnext.com:40443/api\",\n  apiUrl: \"https://api.eu.diabnext.com/api\",\n  timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n  version: \"1.3.2\"\n};\n","export class LogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error\n  ) {\n    this.logType = logType;\n    this.logIndex = logIndex;\n    this.timestamp = timestamp;\n    this.secondsSincePowerUp = secondsSincePowerUp;\n    this.error = error;\n  }\n}\n\nexport const LogRecordType = {\n  HISTORY: 0x03,\n  PUMP_ALARM: 0x05\n};\n\nexport const LogRecordError = {\n  NO_ERR: 0,\n  GET_EEPROM_ERR: 3,\n  CRC_ERR: 4,\n  LOG_INDEX_ERR: 6,\n  REC_SIZE_ERR: 8\n};\n\nexport class HistoryLogRecord extends LogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error\n    );\n    this.historyLogRecordType = historyLogRecordType;\n    this.flags = flags;\n  }\n}\n\nexport const HistoryLogRecordType = {\n  END_MARKER: 0x0000,\n  DEACTIVATE: 0x0001,\n  TIME_CHANGE: 0x0002,\n  BOLUS: 0x0004,\n  BASAL_RATE: 0x0008,\n  SUSPEND: 0x0010,\n  DATE_CHANGE: 0x0020,\n  SUGGESTED_CALC: 0x0040,\n  REMOTE_HAZARD_ALARM: 0x0080,\n  ALARM: 0x0400,\n  BLOOD_GLUCOSE: 0x0800,\n  CARB: 0x1000,\n  TERMINATE_BOLUS: 0x2000,\n  TERMINATE_BASAL: 0x4000,\n  ACTIVATE: 0x8000,\n  RESUME: 0x10000,\n  DOWNLOAD: 0x20000,\n  OCCLUSION: 0x40000,\n  values: function() {\n    return [\n      HistoryLogRecordType.END_MARKER,\n      HistoryLogRecordType.DEACTIVATE,\n      HistoryLogRecordType.TIME_CHANGE,\n      HistoryLogRecordType.BOLUS,\n      HistoryLogRecordType.BASAL_RATE,\n      HistoryLogRecordType.SUSPEND,\n      HistoryLogRecordType.DATE_CHANGE,\n      HistoryLogRecordType.SUGGESTED_CALC,\n      HistoryLogRecordType.REMOTE_HAZARD_ALARM,\n      HistoryLogRecordType.ALARM,\n      HistoryLogRecordType.BLOOD_GLUCOSE,\n      HistoryLogRecordType.CARB,\n      HistoryLogRecordType.TERMINATE_BOLUS,\n      HistoryLogRecordType.TERMINATE_BASAL,\n      HistoryLogRecordType.ACTIVATE,\n      HistoryLogRecordType.RESUME,\n      HistoryLogRecordType.DOWNLOAD,\n      HistoryLogRecordType.OCCLUSION\n    ];\n  }\n};\n\nexport const HistoryLogRecordFlag = {\n  CARRY_OVER: 0x01,\n  NEW_DAY: 0x02,\n  IN_PROGRESS: 0x04,\n  END_DAY: 0x08,\n  UNCONFIRMED: 0x10,\n  REVERSE_CORR: 0x0100,\n  MAX_BOLUS: 0x0200,\n  ERROR: 0x80000000,\n  values: function() {\n    return [\n      HistoryLogRecordFlag.CARRY_OVER,\n      HistoryLogRecordFlag.NEW_DAY,\n      HistoryLogRecordFlag.IN_PROGRESS,\n      HistoryLogRecordFlag.END_DAY,\n      HistoryLogRecordFlag.UNCONFIRMED,\n      HistoryLogRecordFlag.REVERSE_CORR,\n      HistoryLogRecordFlag.MAX_BOLUS,\n      HistoryLogRecordFlag.ERROR\n    ];\n  }\n};\n\nexport class DateChangeLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    newDate\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags\n    );\n    this.newDate = newDate;\n  }\n}\n\nexport class TimeChangeLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    newTime\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags\n    );\n    this.newTime = newTime;\n  }\n}\n\nexport class BasalLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    basalRatePerHour,\n    durationInMinutes,\n    percent\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags\n    );\n    this.basalRatePerHour = basalRatePerHour;\n    this.durationInMinutes = durationInMinutes;\n    this.percent = percent;\n  }\n}\n\nexport class BolusLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    units,\n    extendedDurationMinutes,\n    calculationRecordOffset,\n    immediateDurationSeconds\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags\n    );\n    this.units = units;\n    this.extendedDurationMinutes = extendedDurationMinutes;\n    this.calculationRecordOffset = calculationRecordOffset;\n    this.immediateDurationSeconds = immediateDurationSeconds;\n    this.extended = (calculationRecordOffset === 65535);\n  }\n}\n\nexport class SuggestedCalculationLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    correctionDelivered,\n    carbBolusDelivered,\n    correctionProgrammed,\n    carbBolusProgrammed,\n    correctionSuggested,\n    carbBolusSuggested,\n    correctionJob,\n    mealJob,\n    correctionFactorUsed,\n    currentBG,\n    targetBG,\n    correctionThresholdBG,\n    carbGrams,\n    icRatioUsed\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags\n    );\n    this.correctionDelivered = correctionDelivered;\n    this.carbBolusDelivered = carbBolusDelivered;\n    this.correctionProgrammed = correctionProgrammed;\n    this.carbBolusProgrammed = carbBolusProgrammed;\n    this.correctionSuggested = correctionSuggested;\n    this.carbBolusSuggested = carbBolusSuggested;\n    this.correctionJob = correctionJob;\n    this.mealJob = mealJob;\n    this.correctionFactorUsed = correctionFactorUsed;\n    this.currentBG = currentBG;\n    this.targetBG = targetBG;\n    this.correctionThresholdBG = correctionThresholdBG;\n    this.carbGrams = carbGrams;\n    this.icRatioUsed = icRatioUsed;\n  }\n}\n\nexport class AlarmLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    alarmTime,\n    alarmType,\n    fileNumber,\n    lineNumber,\n    alarmErrorCode\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags\n    );\n    this.alarmTime = alarmTime;\n    this.alarmType = alarmType;\n    this.fileNumber = fileNumber;\n    this.lineNumber = lineNumber;\n    this.alarmErrorCode = alarmErrorCode;\n  }\n}\n\nexport class RemoteHazardAlarmLogRecord extends AlarmLogRecord {\n  constructor(props) {\n    super(props)\n  }\n}\n\nexport const BloodGlucoseFlag = {\n  MANUAL_FLAG: 0x01,\n  TEMPERATURE_FLAG: 0x02,\n  BELOW_TARGET_FLAG: 0x04,\n  ABOVE_TARGET_FLAG: 0x08,\n  RANGE_ERROR_LOW_FLAG: 0x10,\n  RANGE_ERROR_HIGH_FLAG: 0x20,\n  OTHER_ERROR_FLAG: 0x40,\n  values: function() {\n    return [\n      BloodGlucoseFlag.MANUAL_FLAG,\n      BloodGlucoseFlag.TEMPERATURE_FLAG,\n      BloodGlucoseFlag.BELOW_TARGET_FLAG,\n      BloodGlucoseFlag.ABOVE_TARGET_FLAG,\n      BloodGlucoseFlag.RANGE_ERROR_LOW_FLAG,\n      BloodGlucoseFlag.RANGE_ERROR_HIGH_FLAG,\n      BloodGlucoseFlag.OTHER_ERROR_FLAG\n    ];\n  },\n  fromBitSet: function(bits) {\n    return new Set(BloodGlucoseFlag.values().filter(bgFlag => (bgFlag & bits) !== 0));\n  }\n};\n\nexport class BloodGlucoseLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    errorCode,\n    bgReading,\n    userTag1,\n    userTag2,\n    bgFlags\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags,\n    );\n    this.errorCode = errorCode;\n    this.bgReading = bgReading;\n    this.userTag1 = userTag1;\n    this.userTag2 = userTag2;\n    this.bgFlags = bgFlags;\n  }\n}\n\nexport class CarbLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    carbs,\n    wasPreset,\n    presetType\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags,\n    );\n    this.carbs = carbs;\n    this.wasPreset = wasPreset;\n    this.presetType = presetType;\n  }\n}\n\nexport class TerminateBolusLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    insulinLeft,\n    timeLeftMinutes\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags,\n    );\n    this.insulinLeft = insulinLeft;\n    this.timeLeftMinutes = timeLeftMinutes;\n  }\n}\n\nexport class TerminateBasalLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    timeLeftMinutes\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags\n    );\n    this.timeLeftMinutes = timeLeftMinutes;\n  }\n}\n\nexport class ActivateLogRecord extends HistoryLogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    historyLogRecordType,\n    flags,\n    lotNumber,\n    serialNumber,\n    podVersion,\n    interlockVersion\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error,\n      historyLogRecordType,\n      flags\n    );\n    this.lotNumber = lotNumber;\n    this.serialNumber = serialNumber;\n    this.podVersion = podVersion;\n    this.interlockVersion = interlockVersion;\n  }\n}\n\nexport class PumpAlarmDetails extends LogRecord {\n  constructor(\n    logType,\n    logIndex,\n    timestamp,\n    secondsSincePowerUp,\n    error,\n    alarmTimestamp,\n    alarmType,\n    alarmErrorCode,\n    lotNumber,\n    sequenceNumber,\n    processorVersion,\n    interlockVersion\n\n  ) {\n    super(\n      logType,\n      logIndex,\n      timestamp,\n      secondsSincePowerUp,\n      error\n    );\n    this.alarmTimestamp = alarmTimestamp;\n    this.alarmType = alarmType;\n    this.alarmErrorCode = alarmErrorCode;\n    this.lotNumber = lotNumber;\n    this.sequenceNumber = sequenceNumber;\n    this.processorVersion = processorVersion;\n    this.interlockVersion = interlockVersion;\n  }\n}\n\nexport class AlarmType {\n  constructor(\n    id,\n    explanation,\n    stopsDelivery\n  ) {\n    this.id = id;\n    this.explanation = explanation;\n    this.stopsDelivery = stopsDelivery;\n  }\n\n  static forID(id) {\n    return this.values().find(alarmType => alarmType.id === id);\n  }\n\n  static values() {\n    return [\n      AlarmType.PDM_ERROR0,\n      AlarmType.PDM_ERROR1,\n      AlarmType.PDM_ERROR2,\n      AlarmType.PDM_ERROR3,\n      AlarmType.PDM_ERROR4,\n      AlarmType.PDM_ERROR5,\n      AlarmType.PDM_ERROR6,\n      AlarmType.PDM_ERROR7,\n      AlarmType.PDM_ERROR8,\n      AlarmType.PDM_ERROR9,\n      AlarmType.SYSTEM_ERROR10,\n      AlarmType.UNKNOWN11,\n      AlarmType.SYSTEM_ERROR12,\n      AlarmType.HAZ_REMOTE,\n      AlarmType.HAZ_PUMP_VOL,\n      AlarmType.HAZ_PUMP_AUTO_OFF,\n      AlarmType.HAZ_PUMP_EXPIRED,\n      AlarmType.HAZ_PUMP_OCCL,\n      AlarmType.HAZ_PUMP_ACTIVATE,\n      AlarmType.UNKNOWN19,\n      AlarmType.UNKNOWN20,\n      AlarmType.ADV_KEY,\n      AlarmType.UNKNOWN22,\n      AlarmType.ADV_PUMP_VOL,\n      AlarmType.ADV_PUMP_AUTO_OFF,\n      AlarmType.ADV_PUMP_SUSPEND,\n      AlarmType.ADV_PUMP_EXP1,\n      AlarmType.ADV_PUMP_EXP2,\n      AlarmType.SYSTEM_ERROR28,\n      AlarmType.EXP_WARNING,\n      AlarmType.HAZ_PDM_AUTO_OFF\n    ];\n  }\n\n  static PDM_ERROR0 = new AlarmType(0, \"PDM error\", null);\n  static PDM_ERROR1 = new AlarmType(1, \"PDM error\", null);\n  static PDM_ERROR2 = new AlarmType(2, \"PDM error\", null);\n  static PDM_ERROR3 = new AlarmType(3, \"PDM error\", null);\n  static PDM_ERROR4 = new AlarmType(4, \"PDM error\", null);\n  static PDM_ERROR5 = new AlarmType(5, \"PDM error\", null);\n  static PDM_ERROR6 = new AlarmType(6, \"PDM error\", null);\n  static PDM_ERROR7 = new AlarmType(7, \"PDM error\", null);\n  static PDM_ERROR8 = new AlarmType(8, \"PDM error\", null);\n  static PDM_ERROR9 = new AlarmType(9, \"PDM error\", null);\n  static SYSTEM_ERROR10 = new AlarmType(10, \"system error\", false);\n  static UNKNOWN11 = new AlarmType(11, \"Unknown alarm type\", null);\n  static SYSTEM_ERROR12 = new AlarmType(12, \"system error\", null);\n  static HAZ_REMOTE = new AlarmType(13, \"clock reset alarm\", false);\n  static HAZ_PUMP_VOL = new AlarmType(14, \"empty reservoir\", true);\n  static HAZ_PUMP_AUTO_OFF = new AlarmType(15, \"auto-off\", true);\n  static HAZ_PUMP_EXPIRED = new AlarmType(16, \"pod expired\", true);\n  static HAZ_PUMP_OCCL = new AlarmType(17, \"pump site occluded\", true);\n  static HAZ_PUMP_ACTIVATE = new AlarmType(18, \"pod is a lump of coal\", false);\n  static UNKNOWN19 = new AlarmType(19, \"Unknown alarm type\", null);\n  static UNKNOWN20 = new AlarmType(20, \"Unknown alarm type\", null);\n  static ADV_KEY = new AlarmType(21, \"PDM stuck key detected\", false);\n  static UNKNOWN22 = new AlarmType(22, \"Unknown alarm type\", null);\n  static ADV_PUMP_VOL = new AlarmType(23, \"low reservoir\", false);\n  static ADV_PUMP_AUTO_OFF = new AlarmType(24, \"15 minutes to auto-off warning\", false);\n  static ADV_PUMP_SUSPEND = new AlarmType(25, \"suspend done\", false);\n  static ADV_PUMP_EXP1 = new AlarmType(26, \"pod expiration advisory\", false);\n  static ADV_PUMP_EXP2 = new AlarmType(27, \"pod expiration alert\", false);\n  static SYSTEM_ERROR28 = new AlarmType(28, \"system error\", null);\n  static EXP_WARNING = new AlarmType(37, \"pod expiration advisory\", false);\n  static HAZ_PDM_AUTO_OFF = new AlarmType(39, \"auto-off\", true);\n}\n","import moment from 'moment-timezone';\nimport { LogRecordType, HistoryLogRecordType } from './LogRecord';\nimport * as IBFRecordReader from './IBFRecordReader';\nimport * as LogRecordParser from './LogRecordParser';\nimport appConfig from '../../config';\n\nexport default function IBFReader(file, productId) {\n  var reader = new FileReader();\n  reader.readAsArrayBuffer(file);\n  return new Promise((resolve, reject) => {\n    let pumpRecords = [];\n    reader.onload = function(e) {\n      let buffer = Buffer.from(e.target.result);\n      let recordCount = -18;\n      let record;\n      while (true) {\n        [record, buffer] = IBFRecordReader.readIBFRecord(buffer);\n        if (record === null || buffer.length === 0) {\n          break;\n        }\n        recordCount++;\n        if (recordCount >= 0) {\n          let [err, parsed] = LogRecordParser.parseLogRecord(record);\n          if (err) {\n            // reject(err);\n          } else {\n            let recordType;\n            if (typeof parsed[\"historyLogRecordType\"] !== 'undefined') {\n              recordType = Object.keys(HistoryLogRecordType).find(key => HistoryLogRecordType[key] === parsed.historyLogRecordType);\n            } else {\n              recordType = Object.keys(LogRecordType).find(key => LogRecordType[key] === parsed.logType);\n            }\n            if (recordType === 'BASAL_RATE') {\n              const timeZone = appConfig.timeZone;\n              const utcTime = moment(parsed.timestamp, timeZone).toISOString();\n              console.log(parsed);\n              pumpRecords.push({\n                recorded_at: utcTime,\n                product_pump_id: productId,\n                slow_insulin: parsed.basalRatePerHour\n              })\n            }\n          }\n        }\n      }\n      resolve(pumpRecords);\n    };\n  });\n}\n","module.exports = \"data:image/png;base64,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cC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wOS0yMlQwMzozMzo1NCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wOS0yMlQwMzozMzo1NCswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDktMjJUMDM6MzM6NTQrMDI6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YzlmNzEyNDEtYjU4ZS00MTE0LWEwN2MtNTA5MTQ3NWY0M2I3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NTE3NzBmY2EtMjAwOC0yZjQ1LWJjMjItMDVjZWFkZGJiNTYzIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YjQ3MzgxMzMtNjQwNS00Mzc0LWIwMWYtMTM1ZDhjMDYyY2JiIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iRGlzcGxheSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI0NzM4MTMzLTY0MDUtNDM3NC1iMDFmLTEzNWQ4YzA2MmNiYiIgc3RFdnQ6d2hlbj0iMjAxOC0wOS0yMlQwMzozMzo1NCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmM5ZjcxMjQxLWI1OGUtNDExNC1hMDdj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\"","module.exports = __webpack_public_path__ + \"static/media/diabnext_logo.f75dfd4a.png\";","import {\n  ActivateLogRecord,\n  AlarmLogRecord,\n  AlarmType,\n  BasalLogRecord,\n  BloodGlucoseFlag,\n  BloodGlucoseLogRecord,\n  BolusLogRecord,\n  CarbLogRecord,\n  DateChangeLogRecord,\n  HistoryLogRecord,\n  HistoryLogRecordFlag,\n  HistoryLogRecordType,\n  // LogRecord,\n  LogRecordType,\n  PumpAlarmDetails,\n  RemoteHazardAlarmLogRecord,\n  SuggestedCalculationLogRecord,\n  TerminateBasalLogRecord,\n  TerminateBolusLogRecord,\n  TimeChangeLogRecord\n} from './LogRecord';\n\nexport function parseLogRecord(ibfRecord) {\n  let it = ibfRecord.byteReader();\n  if (it.remaining() < 18) {\n    return [\n      Error('Insufficient data: ' + it.remaining()),\n      null\n    ];\n  }\n\n  let logType = it.nextInt8();\n\n  if (logType !== LogRecordType.HISTORY && logType !== LogRecordType.PUMP_ALARM) {\n    return [\n      Error('Unknown log record type: ' + logType),\n      null\n    ];\n  }\n\n  let logIndex = it.nextInt32BE();\n  let recordSize = it.nextUInt16BE();\n  let errorCode = it.nextUInt16BE();\n  let timestamp = it.nextDate();\n\n  it.skip(1);\n\n  let secondsSincePowerUp = it.nextUInt32LE();\n  // declare all the variables might needed\n  let basalRatePerHour,\n  durationInMinutes,\n  percent,\n  units,\n  extendedDurationMinutes,\n  calculationRecordOffset,\n  immediateDurationSeconds,\n  newDate,\n  newTime,\n  correctionDelivered,\n  carbBolusDelivered,\n  correctionProgrammed,\n  carbBolusProgrammed,\n  correctionSuggested,\n  carbBolusSuggested,\n  correctionJob,\n  mealJob,\n  correctionFactorUsed,\n  currentBG,\n  targetBG,\n  correctionThresholdBG,\n  carbGrams,\n  icRatioUsed,\n  alarmTime,\n  alarmType,\n  fileNumber,\n  lineNumber,\n  alarmErrorCode,\n  bgErrorCode,\n  bgReading,\n  userTag1,\n  userTag2,\n  bgFlagsValue,\n  carbs,\n  wasPreset,\n  presetType,\n  insulinLeft,\n  timeLeftMinutes,\n  lotNumber,\n  serialNumber,\n  podVersion,\n  interlockVersion,\n  alarmTimestamp,\n  alarmTypeID,\n  seqNumber,\n  processorVersion\n\n  switch (logType) {\n    case LogRecordType.HISTORY:\n      let historyLogRecordType = it.nextInt32LE();\n      let foundRecordType = HistoryLogRecordType.values().find(value => value === historyLogRecordType);\n      if (foundRecordType === undefined) {\n        return [\n          Error('Unknown history log record type: ' + historyLogRecordType),\n          null\n        ];\n      }\n\n      let historyLogRecordFlagsValue = it.nextUInt16LE();\n      let historyLogRecordFlags = HistoryLogRecordFlag.values().filter(flag => (flag & historyLogRecordFlagsValue) !== 0);\n\n      it.skip(2);\n\n      switch (historyLogRecordType) {\n        case HistoryLogRecordType.BASAL_RATE:\n          basalRatePerHour = it.nextUInt32LE() / 100;\n          durationInMinutes = it.nextUInt16LE();\n          percent = it.nextUInt16LE() / 100;\n\n          return [\n            null,\n            new BasalLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              basalRatePerHour,\n              durationInMinutes,\n              percent\n            )\n          ];\n\n        case HistoryLogRecordType.BOLUS:\n          units = it.nextUInt32LE() / 100;\n          extendedDurationMinutes = it.nextUInt16LE();\n          calculationRecordOffset = it.nextUInt16LE();\n          immediateDurationSeconds = it.nextUInt16LE();\n\n          return [\n            null,\n            new BolusLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              units,\n              extendedDurationMinutes,\n              calculationRecordOffset,\n              immediateDurationSeconds\n            )\n          ];\n\n        case HistoryLogRecordType.DATE_CHANGE:\n          newDate = it.nextDate();\n\n          return [\n            null,\n            new DateChangeLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              newDate\n            )\n          ];\n\n        case HistoryLogRecordType.TIME_CHANGE:\n          newTime = it.nextDate();\n\n          return [\n            null,\n            new TimeChangeLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              newTime\n            )\n          ];\n\n        case HistoryLogRecordType.SUGGESTED_CALC:\n          correctionDelivered = it.nextUInt32LE() / 100;\n          carbBolusDelivered = it.nextUInt32LE() / 100;\n          correctionProgrammed = it.nextUInt32LE() / 100;\n          carbBolusProgrammed = it.nextUInt32LE() / 100;\n          correctionSuggested = it.nextUInt32LE() / 100;\n          carbBolusSuggested = it.nextUInt32LE() / 100;\n          correctionJob = it.nextUInt32LE();\n          mealJob = it.nextUInt32LE();\n          correctionFactorUsed = it.nextUInt16LE();\n          currentBG = it.nextUInt16LE();\n          targetBG = it.nextUInt16LE();\n          correctionThresholdBG = it.nextUInt16LE();\n          carbGrams = it.nextUInt16LE();\n          icRatioUsed = it.nextUInt16LE();\n\n          return [\n            null,\n            new SuggestedCalculationLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              correctionDelivered,\n              carbBolusDelivered,\n              correctionProgrammed,\n              carbBolusProgrammed,\n              correctionSuggested,\n              carbBolusSuggested,\n              correctionJob,\n              mealJob,\n              correctionFactorUsed,\n              currentBG,\n              targetBG,\n              correctionThresholdBG,\n              carbGrams,\n              icRatioUsed\n            )\n          ];\n\n        case HistoryLogRecordType.REMOTE_HAZARD_ALARM:\n          alarmTime = it.nextDate();\n          it.skip(1);\n          alarmType = it.nextUInt16LE();\n          fileNumber = it.nextUInt16LE();\n          lineNumber = it.nextUInt16LE();\n          alarmErrorCode = it.nextUInt16LE();\n\n          return [\n            null,\n            new RemoteHazardAlarmLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              alarmTime,\n              alarmType,\n              fileNumber,\n              lineNumber,\n              alarmErrorCode\n            )\n          ];\n\n        case HistoryLogRecordType.ALARM:\n          alarmTime = it.nextDate();\n          it.skip(1);\n          alarmType = it.nextUInt16LE();\n          fileNumber = it.nextUInt16LE();\n          lineNumber = it.nextUInt16LE();\n          alarmErrorCode = it.nextUInt16LE();\n\n          return [\n            null,\n            new AlarmLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              alarmTime,\n              alarmType,\n              fileNumber,\n              lineNumber,\n              alarmErrorCode\n            )\n          ];\n\n        case HistoryLogRecordType.BLOOD_GLUCOSE:\n          bgErrorCode = it.nextUInt32LE();\n          bgReading = it.nextUInt16LE();\n          userTag1 = it.nextString(24);\n          userTag2 = it.nextString(24);\n          bgFlagsValue = it.nextInt8();\n\n          return [\n            null,\n            new BloodGlucoseLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              bgErrorCode,\n              bgReading,\n              userTag1,\n              userTag2,\n              BloodGlucoseFlag.fromBitSet(bgFlagsValue)\n            )\n          ];\n\n        case HistoryLogRecordType.CARB:\n          carbs = it.nextUInt16LE();\n          wasPreset = it.nextInt8();\n          presetType = it.nextInt8();\n\n          return [\n            null,\n            new CarbLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              carbs,\n              wasPreset,\n              presetType\n            )\n          ];\n\n        case HistoryLogRecordType.TERMINATE_BOLUS:\n          insulinLeft = it.nextUInt32LE() / 100;\n          timeLeftMinutes = it.nextUInt16LE();\n\n          return [\n            null,\n            new TerminateBolusLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              insulinLeft,\n              timeLeftMinutes\n            )\n          ];\n\n        case HistoryLogRecordType.TERMINATE_BASAL:\n          timeLeftMinutes = it.nextUInt16LE();\n\n          return [\n            null,\n            new TerminateBasalLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              timeLeftMinutes\n            )\n          ];\n\n        case HistoryLogRecordType.ACTIVATE:\n          lotNumber = it.nextUInt16LE();\n          serialNumber = it.nextUInt16LE();\n          podVersion = it.nextVersion();\n          interlockVersion = it.nextVersion();\n\n          return [\n            null,\n            new ActivateLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags),\n              lotNumber,\n              serialNumber,\n              podVersion,\n              interlockVersion\n            )\n          ];\n\n        default:\n          return [\n            null,\n            new HistoryLogRecord(\n              logType,\n              logIndex,\n              timestamp,\n              secondsSincePowerUp,\n              errorCode,\n              historyLogRecordType,\n              new Set(historyLogRecordFlags)\n            )\n          ];\n      }\n\n    case LogRecordType.PUMP_ALARM:\n      alarmTimestamp = it.nextDate();\n      it.skip(1);\n      alarmTypeID = it.nextInt8();\n      it.skip(1);\n      alarmErrorCode = it.nextInt8();\n      lotNumber = it.nextUInt32LE();\n      seqNumber = it.nextUInt32LE();\n      processorVersion = it.nextVersion();\n      interlockVersion = it.nextVersion();\n\n      return [\n        null,\n        new PumpAlarmDetails(\n          logType,\n          logIndex,\n          timestamp,\n          secondsSincePowerUp,\n          errorCode,\n          alarmTimestamp,\n          AlarmType.forID(alarmTypeID),\n          alarmErrorCode,\n          lotNumber,\n          seqNumber,\n          processorVersion,\n          interlockVersion\n        )\n      ];\n\n    default:\n      throw Error('Assertion failure: should be unreachable due to earlier log record type check.');\n  }\n}\n"],"sourceRoot":""}